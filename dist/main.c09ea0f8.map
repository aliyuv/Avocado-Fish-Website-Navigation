{"version":3,"sources":["js/main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hasMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,SAAf,CAAhB;;AAEA,IAAMC,IAAIC,aAAaC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB;AACA,IAAMM,SAASH,WAAW,CACtB,EAACI,MAAK,GAAN,EAAUC,KAAI,sBAAd,EADsB,EAEtB,EAACD,MAAK,GAAN,EAAUC,KAAI,sBAAd,EAFsB,CAA1B;;AAKA,IAAMC,cAAe,SAAfA,WAAe,CAACD,GAAD,EAAQ;AACzB,WAAOA,IAAIE,OAAJ,CAAY,UAAZ,EAAuB,EAAvB,EAA2BA,OAA3B,CAAmC,SAAnC,EAA6C,EAA7C,EAAiDA,OAAjD,CAAyD,MAAzD,EAAgE,EAAhE,EAAoEA,OAApE,CAA4E,MAA5E,EAAmF,EAAnF,CAAP;AACH,CAFD;AAGA,IAAMC,SAAS,SAATA,MAAS,GAAI;AACff,cAAUG,IAAV,CAAe,eAAf,EAAgCa,MAAhC;AACAN,WAAOO,OAAP,CAAe,UAACC,IAAD,EAAMC,KAAN,EAAe;AAC1B,YAAMC,MAAMnB,2FAEoBiB,KAAKP,IAFzB,wDAGoBE,YAAYK,KAAKN,GAAjB,CAHpB,0QAUZS,YAVY,CAUCnB,OAVD,CAAZ;AAWAkB,YAAIE,EAAJ,CAAO,OAAP,EAAe,YAAI;AACfC,mBAAOC,IAAP,CAAYN,KAAKN,GAAjB;AACH,SAFD;AAGAQ,YAAIE,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AACzBA,cAAEC,eAAF;AACAhB,mBAAOiB,MAAP,CAAcR,KAAd,EAAoB,CAApB;AACAJ;AACH,SAJD;AAKH,KApBD;AAqBH,CAvBD;AAwBAA;AACAd,EAAE,YAAF,EACKqB,EADL,CACQ,OADR,EACgB,YAAI;AACZ,QAAIV,MAAMW,OAAOK,MAAP,CAAc,cAAd,EAA6B,oBAA7B,CAAV;AACA,QAAI,CAAChB,GAAL,EAAS;AACL;AACH,KAFD,MAEK;AACD,YAAIA,IAAIiB,OAAJ,CAAY,MAAZ,MAAwB,CAAC,CAA7B,EAA+B;AAC3BjB,kBAAM,aAAaA,GAAnB;AACH;AACJ;;AAEDF,WAAOoB,IAAP,CAAY;AACRnB,cAAME,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBmB,WAApB,EADE;AAERnB,aAAKA;AAFG,KAAZ;AAIAG;AACP,CAhBD;;AAkBAQ,OAAOS,cAAP,GAAwB,YAAI;AACxB,QAAMC,SAASzB,KAAK0B,SAAL,CAAexB,MAAf,CAAf;AACAa,WAAOlB,YAAP,CAAoB8B,OAApB,CAA4B,GAA5B,EAAgCF,MAAhC;AACH,CAHD;;AAKAhC,EAAEmC,QAAF,EAAYd,EAAZ,CAAe,UAAf,EAA0B,UAACG,CAAD,EAAK;AAAA,QACnBY,GADmB,GACZZ,CADY,CACnBY,GADmB;;AAE1B,SAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAE5B,OAAO6B,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,YAAI5B,OAAO4B,CAAP,EAAU3B,IAAV,CAAe6B,WAAf,OAAiCH,GAArC,EAAyC;AACrCd,mBAAOC,IAAP,CAAYd,OAAO4B,CAAP,EAAU1B,GAAtB;AACH;AACJ;AACL,CAPD","file":"main.c09ea0f8.map","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList');\nconst $lastLi = $siteList.find(\"li.last\")\n\nconst x = localStorage.getItem(\"x\");\nconst xObject = JSON.parse(x);\nconst hasMap = xObject || [\n    {logo:'A',url:'https://www.acfun.cn'},\n    {logo:'B',url:'https://bilibili.com'},\n]\n\nconst simplifyUrl =  (url) =>{\n    return url.replace('https://','').replace('http://','').replace('www.','').replace(/\\/.*/,\"\")\n}\nconst render = ()=>{\n    $siteList.find('li:not(.last)').remove();\n    hasMap.forEach((node,index) =>{\n        const $li = $(`<li>\n                <div class=\"site\">\n                    <div class=\"logo\">${node.logo}</div>\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\n                    <div class=\"close\">\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-close\"></use>\n                    </svg>\n                    </div>\n                </div>\n</li>`).insertBefore($lastLi);\n        $li.on(\"click\",()=>{\n            window.open(node.url);\n        })\n        $li.on(\"click\",'.close',(e)=>{\n            e.stopPropagation();\n            hasMap.splice(index,1);\n            render();\n        })\n    })\n}\nrender();\n$(\".addButton\")\n    .on('click',()=>{\n        let url = window.prompt(\"请问你要添加的网址是啥?\",\"https://google.com\");\n        if (!url){\n            return\n        }else{\n            if (url.indexOf(\"http\") === -1){\n                url = \"https://\" + url;\n            }\n        }\n\n        hasMap.push({\n            logo: simplifyUrl(url)[0].toUpperCase(),\n            url: url\n        });\n        render();\n})\n\nwindow.onbeforeunload = ()=>{\n    const string = JSON.stringify(hasMap);\n    window.localStorage.setItem(\"x\",string);\n}\n\n$(document).on('keypress',(e)=>{\n     const {key} = e;\n     for(let i = 0;i<hasMap.length;i++){\n         if (hasMap[i].logo.toLowerCase() === key){\n             window.open(hasMap[i].url);\n         }\n     }\n})\n\n\n"]}